/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval("\n\n(function(){\n    \n    var app = angular.module('bcBoletin', ['ngRoute', 'ui.bootstrap.datetimepicker', 'angular-loading-bar']);\n    \n    var debugMode = true;\n\n    \n    \n    app.config(function($routeProvider){\n\n        $routeProvider\n        .when('/' , {\n            templateUrl: 'views/index.html',\n            controller:'indexController'\n        })\n\n        .otherwise({redirectTo:'/'});\n\n\n    });\n\n\n    app.controller('indexController', [\n        '$scope', \n        '$log',\n        'HttpFactory',\n        'CleanUpService',\n        'FormatService',\n        function($scope, $log, HttpFactory, CleanUpService,FormatService){\n\n            var date = new Date();\n            var year = date.getYear() - 100;\n            var month= date.getMonth() + 1;\n            var day = date.getDate();\n        \n            $scope.today = date;\n            $scope.progress = 5\n            \n            \n            \n            $scope.search = function(file)\n            {\n                $scope.progress = 10\n                \n                if(day < 10)\n                {\n                    day = '0'+day\n                }\n\n                if(file == undefined){swal('Selecciona una ciudad'); return false}\n                if(file.city == undefined){swal('Choose City'); return false}\n                $('.mainProgress').css('visibility','visible')\n                if(file.date != undefined)\n                {\n                    var arr = file.date.split('-');\n                    year = arr[0]\n                    month = arr[1]\n                    day = arr[2]\n\n                }\n                var key = file.city+year+month+day\n                //ti161202\n                $scope.progress += 70\n                HttpFactory.get(key).then(function success(response){\n\n                    $scope.progress += 25\n                    var WordSection1 = CleanUpService.parseMainDiv(response.content)\n                    var CleanedDiv = CleanUpService.cleanHtml(WordSection1)\n                    $scope.progress += 5\n\n                    if(CleanedDiv)\n                    {\n                        FormatService.formatTables();\n                        \n                        \n                        $('#boletin').css('visibility', 'visible');\n                        $('.mainProgress').css('visibility', 'hidden');\n                    }\n\n                });\n\n            }\n            \n            $scope.clear = function()\n            {\n                $('#search').val('');\n            }\n            \n            $(\"#search\").on(\"keyup\", function() {\n                var value = $(this).val();\n                $(\"table tr\").each(function(index) {\n                    if (index != 0) {\n\n                        $row = $(this);\n\n                        var id = $row.find(\".fileNo > p\").text();\n                        \n                        if (id.indexOf(value) != 0) {\n                            $(this).hide();\n                        }\n                        else {\n                            $(this).show();\n                        }\n                    }\n                });\n            });\n            \n            \n\n    }]);\n    \n    \n    app.service('FormatService', ['$log', function($log){\n        \n        function getTitle()\n        {\n            if(debugMode){$log.debug('Setting Title Classes')}\n            \n            var format = $('.formatedResults')\n            var title = '';\n            var subtitle = '';\n            var dateNo = '';\n            \n            var mainTitle  = $('.WordSection1 > div').first()\n            mainTitle.find('h1').each(function(){\n                title += $(this).text() + ' ';\n            });\n            mainTitle.find('h2').each(function(){\n                subtitle += $(this).text() + ' ';\n            });\n            mainTitle.find('p').each(function(){\n                dateNo += $(this).html()+ ' ';\n            });\n            \n            format.append('<div class=\"row text-center\" id=\"boletin_title\"><h1>'+title+'</h1><h2>'+ subtitle +'</h2><p>'+dateNo+'<p></div>')\n            mainTitle.remove()\n        }\n        \n        \n        function getHeader()\n        {\n            var format = $('.formatedResults')\n            var header = ''\n            \n            var ps6 = $('.WordSection1 > p:lt(6)').each(function(){\n                header += $(this).html() + '<br/> '\n            });\n            \n            format.append('<div class=\"row boletin_header\"><div class=\"col-md-6 col-md-offet-3\">'+ header +'</div></div>')\n            ps6.remove()\n        }\n        \n        \n        function formatTables()\n        {\n           $('.WordSection1').find('table').each(function(){\n              \n               $(this).addClass('table table-striped');\n               $('tr > td:nth-child(2)', this).addClass('fileNo');\n           });\n\n        }\n        \n        return{\n            getTitle:getTitle,\n            getHeader:getHeader,\n            formatTables:formatTables\n        }\n        \n        \n        \n    }]);\n    \n/**\n|\n|   Cleanup Html Service\n|\n*/    \n    app.service('CleanUpService', ['$log', function($log){\n        \n\n        \n        function parseMainDiv($html)\n        {\n            if(debugMode){$log.info('ParseMainDiv')}\n            \n            var parser = $($.parseHTML($html));\n            var mainDiv = []\n            angular.forEach(parser, function(o, i){\n                \n                if(o.className == 'WordSection1')\n                {\n                     mainDiv.push(o.outerHTML);\n                }\n                \n            });\n            \n            return mainDiv[0];\n        }\n        \n        \n        function cleanHtml($html)\n        {\n            if(debugMode){$log.info('cleanHtml')}\n            \n            if(printHtml($html))\n            {\n                $('.WordSection1').find('*').each(function(){\n                    $(this).removeAttributes();\n                    $(this).filter(function(){return $(this).text().trim().length==0}).remove()\n                    \n                });\n                \n                \n                \n                $('.WordSection1').find('span').replaceWith(function(){ \n                    return $(this).contents();\n                });\n                \n                $('.WordSection1').find('i').replaceWith(function(){\n                    \n                    return $(this).contents();\n                })\n                \n                $('o\\\\:p').remove()\n            \n            }\n            $log.info('Done')\n            return true;\n        }\n        \n        \n        function printHtml($html)\n        {\n            if(debugMode){$log.info('PrintHtml')}\n            \n            var resultDiv = $('#results')\n            \n            resultDiv.append($html);\n            \n            return true\n        }\n        \n        return{\n            cleanHtml: cleanHtml,\n            parseMainDiv:parseMainDiv\n        }\n    }]);\n    \n/**\n|\n|   Http Calls Factory\n|\n*/   \n    app.factory('HttpFactory', ['$http', '$q','$log', 'CleanUpService', function($http, $q, $log, CleanUpService){\n        \n        \n        function get(key)\n        {\n            $that = $q.defer();\n        \n            $http.get('/boletin?key='+key+'').then(function success(response){\n\n                $log.debug('HttpFactory response', response)\n                swal('Yei!', 'Archivo no encontrado :)', 'success')\n                $that.resolve(response.data);\n\n            }, function error(err){\n\n                $log.warn('HttpFactory error', err)\n                swal('404', 'Archivo no encontrado :(', 'error')\n\n            });\n\n            return $that.promise;    \n        }\n        \n        return{\n            get:get\n        }\n        \n    }]);\n    \n    // Remove Attributes Plugin\n    jQuery.fn.removeAttributes = function() \n        {\n            return this.each(function() {\n                \n                var attributes = $.map(this.attributes, function(item) {\n                    return item.name;\n                });\n                \n                var element = $(this);\n                $.each(attributes, function(i, item) {\n                    element.removeAttr(item);\n                });\n            });\n        }\n    \n    \n})();\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2pzL2FwcC5qcz84YjY3Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXG4oZnVuY3Rpb24oKXtcbiAgICBcbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2JjQm9sZXRpbicsIFsnbmdSb3V0ZScsICd1aS5ib290c3RyYXAuZGF0ZXRpbWVwaWNrZXInLCAnYW5ndWxhci1sb2FkaW5nLWJhciddKTtcbiAgICBcbiAgICB2YXIgZGVidWdNb2RlID0gdHJ1ZTtcblxuICAgIFxuICAgIFxuICAgIGFwcC5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpe1xuXG4gICAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgIC53aGVuKCcvJyAsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvaW5kZXguaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOidpbmRleENvbnRyb2xsZXInXG4gICAgICAgIH0pXG5cbiAgICAgICAgLm90aGVyd2lzZSh7cmVkaXJlY3RUbzonLyd9KTtcblxuXG4gICAgfSk7XG5cblxuICAgIGFwcC5jb250cm9sbGVyKCdpbmRleENvbnRyb2xsZXInLCBbXG4gICAgICAgICckc2NvcGUnLCBcbiAgICAgICAgJyRsb2cnLFxuICAgICAgICAnSHR0cEZhY3RvcnknLFxuICAgICAgICAnQ2xlYW5VcFNlcnZpY2UnLFxuICAgICAgICAnRm9ybWF0U2VydmljZScsXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGxvZywgSHR0cEZhY3RvcnksIENsZWFuVXBTZXJ2aWNlLEZvcm1hdFNlcnZpY2Upe1xuXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB2YXIgeWVhciA9IGRhdGUuZ2V0WWVhcigpIC0gMTAwO1xuICAgICAgICAgICAgdmFyIG1vbnRoPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICAgICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICRzY29wZS50b2RheSA9IGRhdGU7XG4gICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSA1XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAkc2NvcGUuc2VhcmNoID0gZnVuY3Rpb24oZmlsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAxMFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGRheSA8IDEwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5ID0gJzAnK2RheVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKGZpbGUgPT0gdW5kZWZpbmVkKXtzd2FsKCdTZWxlY2Npb25hIHVuYSBjaXVkYWQnKTsgcmV0dXJuIGZhbHNlfVxuICAgICAgICAgICAgICAgIGlmKGZpbGUuY2l0eSA9PSB1bmRlZmluZWQpe3N3YWwoJ0Nob29zZSBDaXR5Jyk7IHJldHVybiBmYWxzZX1cbiAgICAgICAgICAgICAgICAkKCcubWFpblByb2dyZXNzJykuY3NzKCd2aXNpYmlsaXR5JywndmlzaWJsZScpXG4gICAgICAgICAgICAgICAgaWYoZmlsZS5kYXRlICE9IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSBmaWxlLmRhdGUuc3BsaXQoJy0nKTtcbiAgICAgICAgICAgICAgICAgICAgeWVhciA9IGFyclswXVxuICAgICAgICAgICAgICAgICAgICBtb250aCA9IGFyclsxXVxuICAgICAgICAgICAgICAgICAgICBkYXkgPSBhcnJbMl1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZmlsZS5jaXR5K3llYXIrbW9udGgrZGF5XG4gICAgICAgICAgICAgICAgLy90aTE2MTIwMlxuICAgICAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyArPSA3MFxuICAgICAgICAgICAgICAgIEh0dHBGYWN0b3J5LmdldChrZXkpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSl7XG5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzICs9IDI1XG4gICAgICAgICAgICAgICAgICAgIHZhciBXb3JkU2VjdGlvbjEgPSBDbGVhblVwU2VydmljZS5wYXJzZU1haW5EaXYocmVzcG9uc2UuY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgdmFyIENsZWFuZWREaXYgPSBDbGVhblVwU2VydmljZS5jbGVhbkh0bWwoV29yZFNlY3Rpb24xKVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgKz0gNVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKENsZWFuZWREaXYpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZvcm1hdFNlcnZpY2UuZm9ybWF0VGFibGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2JvbGV0aW4nKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1haW5Qcm9ncmVzcycpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjb3BlLmNsZWFyID0gZnVuY3Rpb24oKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICQoJyNzZWFyY2gnKS52YWwoJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAkKFwiI3NlYXJjaFwiKS5vbihcImtleXVwXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgJChcInRhYmxlIHRyXCIpLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvdyA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9ICRyb3cuZmluZChcIi5maWxlTm8gPiBwXCIpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkLmluZGV4T2YodmFsdWUpICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG5cbiAgICB9XSk7XG4gICAgXG4gICAgXG4gICAgYXBwLnNlcnZpY2UoJ0Zvcm1hdFNlcnZpY2UnLCBbJyRsb2cnLCBmdW5jdGlvbigkbG9nKXtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGdldFRpdGxlKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYoZGVidWdNb2RlKXskbG9nLmRlYnVnKCdTZXR0aW5nIFRpdGxlIENsYXNzZXMnKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGZvcm1hdCA9ICQoJy5mb3JtYXRlZFJlc3VsdHMnKVxuICAgICAgICAgICAgdmFyIHRpdGxlID0gJyc7XG4gICAgICAgICAgICB2YXIgc3VidGl0bGUgPSAnJztcbiAgICAgICAgICAgIHZhciBkYXRlTm8gPSAnJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG1haW5UaXRsZSAgPSAkKCcuV29yZFNlY3Rpb24xID4gZGl2JykuZmlyc3QoKVxuICAgICAgICAgICAgbWFpblRpdGxlLmZpbmQoJ2gxJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRpdGxlICs9ICQodGhpcykudGV4dCgpICsgJyAnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYWluVGl0bGUuZmluZCgnaDInKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgc3VidGl0bGUgKz0gJCh0aGlzKS50ZXh0KCkgKyAnICc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1haW5UaXRsZS5maW5kKCdwJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGRhdGVObyArPSAkKHRoaXMpLmh0bWwoKSsgJyAnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvcm1hdC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJyb3cgdGV4dC1jZW50ZXJcIiBpZD1cImJvbGV0aW5fdGl0bGVcIj48aDE+Jyt0aXRsZSsnPC9oMT48aDI+Jysgc3VidGl0bGUgKyc8L2gyPjxwPicrZGF0ZU5vKyc8cD48L2Rpdj4nKVxuICAgICAgICAgICAgbWFpblRpdGxlLnJlbW92ZSgpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBnZXRIZWFkZXIoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gJCgnLmZvcm1hdGVkUmVzdWx0cycpXG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gJydcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHBzNiA9ICQoJy5Xb3JkU2VjdGlvbjEgPiBwOmx0KDYpJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGhlYWRlciArPSAkKHRoaXMpLmh0bWwoKSArICc8YnIvPiAnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9ybWF0LmFwcGVuZCgnPGRpdiBjbGFzcz1cInJvdyBib2xldGluX2hlYWRlclwiPjxkaXYgY2xhc3M9XCJjb2wtbWQtNiBjb2wtbWQtb2ZmZXQtM1wiPicrIGhlYWRlciArJzwvZGl2PjwvZGl2PicpXG4gICAgICAgICAgICBwczYucmVtb3ZlKClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1hdFRhYmxlcygpXG4gICAgICAgIHtcbiAgICAgICAgICAgJCgnLldvcmRTZWN0aW9uMScpLmZpbmQoJ3RhYmxlJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3RhYmxlIHRhYmxlLXN0cmlwZWQnKTtcbiAgICAgICAgICAgICAgICQoJ3RyID4gdGQ6bnRoLWNoaWxkKDIpJywgdGhpcykuYWRkQ2xhc3MoJ2ZpbGVObycpO1xuICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBnZXRUaXRsZTpnZXRUaXRsZSxcbiAgICAgICAgICAgIGdldEhlYWRlcjpnZXRIZWFkZXIsXG4gICAgICAgICAgICBmb3JtYXRUYWJsZXM6Zm9ybWF0VGFibGVzXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBcbiAgICB9XSk7XG4gICAgXG4vKipcbnxcbnwgICBDbGVhbnVwIEh0bWwgU2VydmljZVxufFxuKi8gICAgXG4gICAgYXBwLnNlcnZpY2UoJ0NsZWFuVXBTZXJ2aWNlJywgWyckbG9nJywgZnVuY3Rpb24oJGxvZyl7XG4gICAgICAgIFxuXG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBwYXJzZU1haW5EaXYoJGh0bWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKGRlYnVnTW9kZSl7JGxvZy5pbmZvKCdQYXJzZU1haW5EaXYnKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHBhcnNlciA9ICQoJC5wYXJzZUhUTUwoJGh0bWwpKTtcbiAgICAgICAgICAgIHZhciBtYWluRGl2ID0gW11cbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwYXJzZXIsIGZ1bmN0aW9uKG8sIGkpe1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKG8uY2xhc3NOYW1lID09ICdXb3JkU2VjdGlvbjEnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgIG1haW5EaXYucHVzaChvLm91dGVySFRNTCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBtYWluRGl2WzBdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gY2xlYW5IdG1sKCRodG1sKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZihkZWJ1Z01vZGUpeyRsb2cuaW5mbygnY2xlYW5IdG1sJyl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKHByaW50SHRtbCgkaHRtbCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJCgnLldvcmRTZWN0aW9uMScpLmZpbmQoJyonKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAkKHRoaXMpLnRleHQoKS50cmltKCkubGVuZ3RoPT0wfSkucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJCgnLldvcmRTZWN0aW9uMScpLmZpbmQoJ3NwYW4nKS5yZXBsYWNlV2l0aChmdW5jdGlvbigpeyBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuY29udGVudHMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkKCcuV29yZFNlY3Rpb24xJykuZmluZCgnaScpLnJlcGxhY2VXaXRoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5jb250ZW50cygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJCgnb1xcXFw6cCcpLnJlbW92ZSgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRsb2cuaW5mbygnRG9uZScpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHByaW50SHRtbCgkaHRtbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYoZGVidWdNb2RlKXskbG9nLmluZm8oJ1ByaW50SHRtbCcpfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgcmVzdWx0RGl2ID0gJCgnI3Jlc3VsdHMnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXN1bHREaXYuYXBwZW5kKCRodG1sKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgY2xlYW5IdG1sOiBjbGVhbkh0bWwsXG4gICAgICAgICAgICBwYXJzZU1haW5EaXY6cGFyc2VNYWluRGl2XG4gICAgICAgIH1cbiAgICB9XSk7XG4gICAgXG4vKipcbnxcbnwgICBIdHRwIENhbGxzIEZhY3RvcnlcbnxcbiovICAgXG4gICAgYXBwLmZhY3RvcnkoJ0h0dHBGYWN0b3J5JywgWyckaHR0cCcsICckcScsJyRsb2cnLCAnQ2xlYW5VcFNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgJHEsICRsb2csIENsZWFuVXBTZXJ2aWNlKXtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBnZXQoa2V5KVxuICAgICAgICB7XG4gICAgICAgICAgICAkdGhhdCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIFxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYm9sZXRpbj9rZXk9JytrZXkrJycpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSl7XG5cbiAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKCdIdHRwRmFjdG9yeSByZXNwb25zZScsIHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIHN3YWwoJ1llaSEnLCAnQXJjaGl2byBubyBlbmNvbnRyYWRvIDopJywgJ3N1Y2Nlc3MnKVxuICAgICAgICAgICAgICAgICR0aGF0LnJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycil7XG5cbiAgICAgICAgICAgICAgICAkbG9nLndhcm4oJ0h0dHBGYWN0b3J5IGVycm9yJywgZXJyKVxuICAgICAgICAgICAgICAgIHN3YWwoJzQwNCcsICdBcmNoaXZvIG5vIGVuY29udHJhZG8gOignLCAnZXJyb3InKVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuICR0aGF0LnByb21pc2U7ICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm57XG4gICAgICAgICAgICBnZXQ6Z2V0XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfV0pO1xuICAgIFxuICAgIC8vIFJlbW92ZSBBdHRyaWJ1dGVzIFBsdWdpblxuICAgIGpRdWVyeS5mbi5yZW1vdmVBdHRyaWJ1dGVzID0gZnVuY3Rpb24oKSBcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9ICQubWFwKHRoaXMuYXR0cmlidXRlcywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAkLmVhY2goYXR0cmlidXRlcywgZnVuY3Rpb24oaSwgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIFxuICAgIFxufSkoKTtcblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9qcy9hcHAuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);